<div class="container">

  <app-navbar></app-navbar>

  <!-- PROFILE -->
  <div class="profile-container">
    <mat-card class="profile-card">
      <mat-card-header class="profile-header">
        <mat-card-title class="profile-title">Update Your Profile</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Username"
              placeholder="Username"
              type="text"
              name="Username"
              required
            >
            </mat-form-field>
            <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Password"
              type = "password"
              placeholder="Password"
              name="Password"
              required
            >
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Email"
              type = "email"
              placeholder="Email"
              name="Email"
              required
            >
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Birthday"
              type = "date"
              placeholder="Birthday"  
              name="Birthday"
            >
          </mat-form-field>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <button
          class="edit-button"
          mat-raised-button
          (click)="updateProfile()"
        >
          Update
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- FAVORITE -->
  <div class="fav-container">
    <h1>Your Favorite Movies:</h1>
    <div *ngIf="displayElements; else message" class="fav-secondary-container">
      <mat-card class="fav-card" *ngFor="let movie of favs; let i = index">
        <mat-card-header>
          <mat-card-title>{{movie.Title}}</mat-card-title>
          <mat-card-subtitle>Directed by: {{movie.Director.Name}}</mat-card-subtitle>
        </mat-card-header>
        <img src={{movie.ImagePath}} alt={{movie.Title}}/>
        <mat-card-actions>
          <button 
            mat-button
            (click)="openGenre(
              movie.Genre.Name,
              movie.Genre.Description
            )"
          >
            Genre
          </button>
    
          <button 
            mat-button
            (click)="openDirector(
              movie.Director.Name,
              movie.Director.Bio
            )"
          >
            Director
          </button>
    
          <button 
            mat-button
            (click)="openSynopsis(
              movie.Title,
              movie.ImagePath,
              movie.Description
            )"
          >
            Synopsis
          </button>
    
          <button
            mat-icon-button
            (click)="removeFav(movie._id)"
          >
            <mat-icon>favorite_border</mat-icon>
          </button>
          
        </mat-card-actions>
      </mat-card>
    </div>
    <ng-template #message>
      <h2>You haven't added anything to your favorites :(</h2>
    </ng-template>
  </div>

</div>
